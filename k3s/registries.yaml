mirrors:
  k8s.gcr.io:
    endpoint:
      - "https://registry.cn-hangzhou.aliyuncs.com"
    rewrite:
      "(.*)": "icool/$1"
  docker.io:
    endpoint:
      # - "https://x8pwdtpq.mirror.aliyuncs.com"
      - "https://registry.cn-hangzhou.aliyuncs.com"
    rewrite:
      # "^rancher/(.*)": "mirrorproject/rancher-images/$1"
      "^rancher/mirrored-pause:3.6": "icool/rancher.mirrored-pause:3.6"
      "^k8s.gcr.io/sig-storage/csi-node-driver-registrar:v2.3.0": "icool/gcr.csi-node-driver-registrar:v2.3.0"
      "^k8s.gcr.io/sig-storage/csi-resizer:v1.2.0": "icool/gcr.csi-resizer:v1.2.0"
      "^k8s.gcr.io/sig-storage/csi-snapshotter:v3.0.3": "icool/gcr.csi-snapshotter:v3.0.3"
      "^k8s.gcr.io/sig-storage/csi-attacher:v3.1.0": "icool/gcr.csi-snapshotter:v3.0.3"
      "^k8s.gcr.io/sig-storage/snapshot-controller:v3.0.3": "icool/gcr.snapshot-controller:v3.0.3"
      "^k8s.gcr.io/sig-storage/csi-provisioner:v3.0.0": "icool/gcr.csi-provisioner:v3.0.0"
configs:
  # "x8pwdtpq.mirror.aliyuncs.com":
  "*.gcr.io":
    auth:
      username: xxx
      password: xxx
  "registry.cn-hangzhou.aliyuncs.com":
    auth:
      username: ${ALIYUN_REGISTER_USER}
      password: ${ALIYUN_REGISTER_PASS}

# docker push "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-node-driver-registrar:v2.3.0"
# docker push "registry.cn-hangzhou.aliyuncs.com/icool/gcr.snapshot-controller:v3.0.3"
# docker push "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-resizer:v1.2.0"
# docker push "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-snapshotter:v3.0.3"
# docker push "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-attacher:v3.1.0"
# docker push "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-provisioner:v3.0.0"

# docker tag "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-node-driver-registrar:v2.3.0" "k8s.gcr.io/sig-storage/csi-node-driver-registrar:v2.3.0"
# docker tag "registry.cn-hangzhou.aliyuncs.com/icool/gcr.snapshot-controller:v3.0.3" "k8s.gcr.io/sig-storage/snapshot-controller:v3.0.3"
# docker tag "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-resizer:v1.2.0" "k8s.gcr.io/sig-storage/csi-resizer:v1.2.0"
# docker tag "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-snapshotter:v3.0.3" "k8s.gcr.io/sig-storage/csi-snapshotter:v3.0.3"
# docker tag "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-attacher:v3.1.0" "k8s.gcr.io/sig-storage/csi-attacher:v3.1.0"
# docker tag "registry.cn-hangzhou.aliyuncs.com/icool/gcr.csi-provisioner:v3.0.0" "k8s.gcr.io/sig-storage/csi-provisioner:v3.0.0"
